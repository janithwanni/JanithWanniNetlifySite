<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Janith Wanniarachchi">
<meta name="dcterms.date" content="2020-06-08">
<meta name="description" content="A short story written Live on Twitch">

<title>Adam’s Tale – Janith Wanniarachchi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-b98b17560ad5f6c78f97eb3495b1524c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-1405d462a828781ada54a4bb42e0424d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Janith Wanniarachchi</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../creatives.html"> 
<span class="menu-text">Creative Corner</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/janithwanni"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Adam’s Tale</h1>
</div>

<div>
  <div class="description">
    <p>A short story written Live on Twitch</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Janith Wanniarachchi </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 8, 2020</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="prologue" class="level2">
<h2 class="anchored" data-anchor-id="prologue">Prologue</h2>
<p>“Breathe in, breathe out”. He whispered to himself, as he gripped the staff in both of his hands. He was trembling as he pointed the staff up at the red glowing eyes within the hood of the man that was standing before him. The red eyes gazed upon him, and there was no chance of reading any emotion from that darkness within the hood. He pointed the staff up at the hooded figure, and took one deep breath, before whispering loud enough for the figure infront of him to hear. “You took away the family I was born to, but I won’t let you take away the family that I’m a prisoner of”. For a second the glow of the red eyes dimmed as he raised his staff once more and brought it down on a sideway arc on to the shoulder of the figure. With swift reflexes, wood and steel met each other in a dull thud followed by a screeching scrape as the two opponents disengaged. And so began the dance of two minds and bodies, as they started to circle each other, waiting for an opening to strike and bring peace to the night.</p>
</section>
<section id="chapter-1" class="level2">
<h2 class="anchored" data-anchor-id="chapter-1">Chapter 1</h2>
<p>“Harder, Adam, Harder!” That was all that he heard as he began punching left and right to the cotton dummy in front of him. The sensation of fist colliding with cotton registered in his head, but his mind was scattered as his blows slowed to a stop.</p>
<p>“Adam, if you believe I am going to let you go in such a state as a warrior monk, you are fooling yourself. Do you want me to demote you to where you started from and make you practice breathing in and out again.” The words demoting fell on to his ears and within a split second he became aware of his situation.</p>
<p>The cold wind from the open doorway of the training ground brushed against his light robes. But the heat from his arms and his sudden realisation of the possibility of him being demoted ignited a warmth within him. His eyes followed the direction of the commanding yet steadfast voice and met with the unwavering glance of the chief monk, Zalko who was residing over his training at the temple of Leung Kai. He heaved himself up from his slacking stance and looked straight back at the cotton dummy in front of him. And as he let his mind settle into a state of flow, the cotton dummy brought back all the memories that he had kept inside within him. -He found the temple along his journey to strengthen himself after he lost his parents.- From his first day as an initiative of the temple, he had long stood in the middle of the training ground and practiced his breathing all the while staring at this same cotton dummy.</p>
<p>Now the dummy is beckoning him to prove himself after years of practicing his breathing. He took his opening stance and immersed himself in the reason behind his training. The core memory where his mind was in complete clarity.</p>
<p><em>let’s make a present and past mixing kinda thing. Adam will do a certain action and that will trigger a certain key sensory input from his past which will ease in the reader as to what has happened to him to end up here. And we will end it with Adam delivering the final fatal blow to the dummy and in the past key memory he remembers the person who did that and the sound of his parents falling down. MAKE THE PAST SEGMENTS IN ITALIC IN THE FINAL BOOK</em></p>
<p>It was in the rivers of his village as he lied down to rest on the riverbed, moments before his village was raided.</p>
<p>Adam took his first step forward from his stance.</p>
<blockquote class="blockquote">
<p>First it was a soft thud that he heard when the branches of the yew tree above him rustled as if an animal jumped on to it.</p>
</blockquote>
<p>His eyes narrowed down on the cotton dummy covered in brown leather right in front of him.</p>
<blockquote class="blockquote">
<p>Then it was two more thuds as he watched three dark brown figures jump their way towards his village.</p>
</blockquote>
<p>His breath quickened as he advanced quickly on the dummy.</p>
<blockquote class="blockquote">
<p>He was panting as he was running towards his village to alert the chief about these creatures.</p>
</blockquote>
<p>With a soft exhale he swiftly delivered his first blow across the ribs of the dummy.</p>
<blockquote class="blockquote">
<p>He watched as the first sentry of his village topple down from his sentry post. And yet no one except him noticed his choked scream muffled with the sound of his crashing bones.</p>
</blockquote>
<p>He took one long breath and delivered seven more blows to the key points of the dummy.</p>
<blockquote class="blockquote">
<p>One by one they fell and all that was left to protect the village was the chief.</p>
</blockquote>
<p>After the seven blows his breathing slowed, to concentrate on the heart of the dummy. With a graceful fist he delivered his final blow to the heart of the dummy.</p>
<blockquote class="blockquote">
<p>And that too was gone, with the dull thud of the chief’s body collapsing forward with a blade protruding from his back. And in his place stood three cloaked figures.</p>
</blockquote>
<p>His gaze met with the hollow eyes of the dummy. Black, depthless and unforgiving.</p>
<blockquote class="blockquote">
<p>The cold steel of the double bladed scythe glinted in the horrified villagers eyes. But the shadow of his parents blocked the gleam of fear from entering their eyes as they stood as the last shield for the village.</p>
</blockquote>
<p>He took one last breath, and brought in all the pain and anger he had.</p>
<blockquote class="blockquote">
<p>The double bladed scythe shone in the moonlight and changed colors from silver to crimson as the two bodies crumpled to the ground.</p>
</blockquote>
<p>Years of training in mastering his pain and anger, and he finally let go of his emotions. All that he had bottled up inside swam through him and he became one with his ambition. With one last battle cry he delivered a fatal punch to the dummy’s head. Just as his parents fell dead to the scythe of one of the three thieves that raided their villages, the dummy’s head fell clean off from its body and rolled over towards Zalko’s feet.</p>
<p>The sound of the broken head rolling was deafening in the silent practicing ground, but for Adam the only sound he could hear was the sound of his heavy breathing. He gathered his thoughts, by pushing them down towards the back of his head, as he always did. His gaze quickly went towards Zalko, to confirm whether his final display of strength was able to convince his master. On the other end of the practicing ground Zalko was staring at the broken head near his feet and didn’t move for a long time.</p>
<p>“Well? Did I pass the test?” Adam finally asks with no regards for the traditional respect that entails the end of a test in the temple of Liung Kai. Zalko slowly raises his head to look deeply at Adam. It was then only that Adam gained awareness of where he was and what he was doing at that moment. He brought his palms together and bowed and whispered “Master, I have completed my training, have I mastered the ancient ways of Liung Kai, the first of his kind.” It was a phrase that he had memorised for a long time everyday when he envisioned himself becoming a true warrior monk of this temple.</p>
<p>“You have completed your training young initiative, come with me and take your birth right as a new warrior monk of the temple of Liung Kai”. Zalko whispered softly with his gaze fixated on him, but his eyes seemed quite distant at the same time, as if he was lost in thought. Zalko turned around and began walking towards the main shrine of the temple. Adam let out a sigh of relief, but his face never showed a smile. He adjusted his robe and slowly walked behind Zalko.</p>
<p>The main shrine was a few feet away from the training grounds and was the main area where monks held their rituals. As he was walking towards the main shrine, his gaze met with the peach trees that lined the pathway and his thoughts went back to where he started from. Adam had entered this temple through the words of his previous master, the village Swordskeeper. The swordskeeper was like a father to him as he taught him all that he knew about swordsmanship. He also had learnt from the temple of Liung Kai, but he couldn’t make it to the end and become a warrior monk. He had guided him and prepared him for what would he have to face inside the temple, but even he couldn’t prepare him for what was about to happen next.</p>
<p>His train of thoughts was disturbed by the creaking noise of wood grating against iron, as Zalko opened the door of the main shrine before him. The first sense that overwhelmed him was the smell of stale air that had been kept locked for ages. “Hasn’t anyone become a warrior monk in a long time?” Adam asked while trying his best to breath slowly. “It has been ages since a warrior monk has proven his skills in this temple. Mostly because no one ever persevered long enough to take up the final task. The ways of Liung Kai is different from other temples, as our great ancestor himself believed that students of this temple should rigorously follow the fundamentals of breathing and staying calm in the most stressful situations.” Zalko said calmly as he walked around opening the windows of the shrine to let in the cool November air in. Adam took in all that was around him and realised that he was standing in the midst of a room full of statues and weapons mounted on the walls. From clubs to hammers to whips and staffs and finally ending in broad swords and long swords, the entire wall of the shrine was a monument to all the fighting styles taught in the temple of Liung Kai.</p>
<p>“Traditionally, a warrior monk of the Liung Kai receives double short swords as his parting weapon from the temple.” Adam suddenly realised that Zalko had been talking to him all through out the time that he was staring at the weapons. “Yes master” Adam whispered in a calm tone bowing down to show his respect. He was eager to receive the double short swords as his parting gift and continue on his true journey. His face showed no excitement as he knew what his true aims were. “However, it can also be the case that the master of an initiative can decide whether to give him a different weapon as a lesson for him to grow.” Zalko said gravely as he stared down at Adam from the other end of the shrine.</p>
<p>Adam stared back at Zalko’s eyes, trying his best to keep his shock away from his face. It was a skill that he had to learn the hard way from the day his parents passed away, where everyone was trying their best to coax him out of going after the thieves. “Never let your face tell your true mission to anyone” Those were the words that the Swordskeeper of the village told him, whenever he showed anger at the mention of great raid.</p>
<p>“As you wish master, I shall gladly accept your words of wisdom.” Adam said once again bowing slightly. <strong>“Adam, heed my words, and I need you to do more than just accept them. Do not try to douse a burning house by embracing it with your whole self. In the end the house will always perish, but if you firmly hold on to your embrace on the burning house, you shall also join the ashes of the burnt house.”</strong> Zalko whispered softly to Adam, and for a moment Adam could see a slight hint of worry in his brow. Adam nodded deeply and said “I understand master, my teachings from this temple will help me a lot in dousing the flames of the burning house” Adam whispered in a reassuring tone. Zalko’s brow furrowed even more at his reply and in a flash of a second all traces of worry vanished from his face, replaced by a simple empty expression. With a soft nod he walked towards the farthest end of the shrine to pick up a long object from the wall. “You are still far away from understanding the true nature of your own self. I believe the lesson that you have to learn, will be completed through the help of this weapon.” Zalko brought forward to him a wooden staff that was as tall as he was. Adam could not hide the shock anymore as he let his mouth gape open at the sight of the wooden staff presented to him. “This is Pasindir, it’s a wooden staff with heavy metal weights on either ends. As you can see there are three rings on each end, and each ring has heavier metal towards the end.” Zalko let the staff roll off his hands and Adam caught it a moment before it hit the ground. As he straightened up, Adam was able to hide the shock that was in his mind. His jaw was clenched in anger, and his fists gripped the staff tightly as if he was trying to break it into two, just to show Zalko that a mere toothpick can not help him in his mission. He had wasted months on training in the hopes of getting the coveted short swords, and now he had been presented with a simple staff and a lesson to learn out of the temple. He bowed once again deeply, deep enough to show his gratitude in a sarcastic way. “Thank you master, I shall cherish this gift with a lot of gratitude.” Every word that came out of his mouth dripped with sarcastic anger. “Remember my words Adam, warrior monk of Liung Kai, do not burn yourself trying to douse burning houses.” Zalko said softly as he began the preparations for the ceremony.</p>
</section>
<section id="chapter-2" class="level2">
<h2 class="anchored" data-anchor-id="chapter-2">Chapter 2</h2>
<p>Adam woke up to the noise of chirping birds above him. It was bright early morning and the warm sunlight was bringing and exemplary heat.</p>
<p><em>To be continued</em></p>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<p>These were written during the Twitch stream as supporting ideas.</p>
<p>Characters:</p>
<p>Adam: * A person with vengeance in mind * Standing for the right thing * Someone who would do his best to prove that he’s right. * He would do whatever it takes to set his will on other people. * thinks he knows whats best for other people. * medium well built, black hair combed to the side, deep xamber eyes, sharp jawline, well shaved and well dressed and well mannered. Default clothing would be, grey leggings, black jacket (when its cold) dark green shirt. The thief clan (Malicious Boys) * There are three thieves in the clan * Jacob, Larry, Bert. * Jacob is the leader, sensible, moral compass is set in a way that he thinks the entire world against him and that he has to do whatever it takes to stand by himself. He cares the world about his clan * Larry is just a side kick who just adores Jacob. * Bert who has a really bad desire for bloodlust. Bert is the person who killed Adam’s parents.</p>
<p>City (Anorak)</p>
<pre><code>* Its in the middle of a valley. The border is roughly circular. There are only two gates. One is from the south another from the north. To the west and the east are two mountains. The mountains are taken up by the rich and wealthy (Panjures). They have built massive castles and their entire estates upon them. And towards the middle , The poor peasants take up their space in the deepest point of the valley. The peasants make their livelihood by farming, and other businesses. Their products are sent towards the mountainside for the Panjures to use. There’s a clear visible divide between the rich and the poor. And the rich ignite fires of doubt between the poor people to make sure that they are safe. There is a main river that divides the city into two halves (Left wing and right wing). Internally there is a feud between the left wing and the right wing. 
* Legislation and the law enforcement. There is a common place to make laws and discuss policies called the Atrium, where skilled lawyers and debaters from the left and right wings take part in pushing forward their ideas. It is headed by the Governor who decides on the final decision. The Governor is a position thats been handed down generation to generation and they have been impartial since the start. Law enforcement happens in two ways, the left and right wings have their own secret services, the governor has a secret service (the spiders), and a military (the nighthawks)  and a local guard (the bulldogs). The local guard is divided within where the left and right wings influence the arrests made by the local guard and whether they are sent to the Atrium to be judged. 
* /TODO: RELIGION/
* The division among peasants. Left and right wing supporting clans and then the the middle wing clans (they are there for the peasants). 
* /TODO: How many clans are there? What are their specialities? weapons or cultural or based on religion? What do they do? How do they affect the lives of the peasants? How about left wing supporting clans steal from right wing panjures and the right wing supporting clans steal from left wing panjures. And the middle wings steal from both panjures and thieves alike./ </code></pre>
<p>Plot Structure:</p>
<p>Adam is training to be a warrior monk. He had lost his parents and his brother in a raid that happened on his village. The raid happened on his birthday by a group of thieves who simply destroyed the village and stole everything, but they didn’t use force. They simply assassinated the chief of the village and took down all the guards, and basically asked everyone to bring in everything they had, and Adam’s parents resisted. And one of the thieves simply struck both of them infront of Adam, despite the protests and warnings of the other members of the thief clan. Soon after they have realized what they have done, they fled the scene with the gold.</p>
<p>Adam trains his way to become a master and then hunts down the MB, and then finds Bert drinking with all the gold that he stole, and Adam straight up just finishes him in a subtle manner. After that Adam, encounters the rest of the MBs, and they simple overpower him. And then they have a talk together.</p>
<p>Apparently, Jacob and Larry also have suffered the same tragedy that Adam has suffered where they also lived in a village a bit far away from the city. Their villages were raided at the same time and Jacob and Larry got together while running away from the raids (Mind you the clans that raided their villages were a bit more towards aggressive and gory side), and they ventured out into the city and their story is a thing for another time. But they began the MB while being socially respected and more recognized as gentleman with great status. Bert was later taken up as an apprentice after they found him left for death by another clan.</p>
<p>The city is ridden with thieving clans and there is a war going on between the guardians of the city and in between the thieving clans as well.</p>
<p>While Adam is in their custody and after Adam gets to hear their stories, Adam is still kept in their hideout while Jacob and Larry venture out to gather as much as people as possible. And then one night a thief clan decides to attack their hideout. And at that moment Adam is freed to fight alongside them, and there is the place where Adam crosses paths as he’s saved by Jacob and he manages to save Larry as well.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>